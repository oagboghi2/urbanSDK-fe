(this["webpackJsonpurbansdk-fe"]=this["webpackJsonpurbansdk-fe"]||[]).push([[0],{145:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n);r.a.configure().connect();var l=a(0),s=a.n(l),o=a(20),i=a.n(o),c=(a(89),a(22)),u=a.n(c),p=a(10),d=a(11),m=a(13),h=a(12),f=a(14),g=a(169),v=a(175),b=a(173),y=a(171),E=a(174),w=a(172),k=Object(g.a)({card:{minWidth:325,minHeight:225,backgroundColor:"#273141"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:48,color:"white"},pos:{marginBottom:12}});function D(e){var t=k();s.a.createElement("span",{className:t.bullet},"\u2022");return r.a.log("tempCards",e.dataProps),s.a.createElement(v.a,{className:t.card},s.a.createElement(y.a,null,s.a.createElement(w.a,{variant:"h5",component:"h2",className:t.title},e.dataProps)),s.a.createElement(w.a,null,e.subTitle),s.a.createElement(b.a,null,s.a.createElement(E.a,{size:"small"})))}var C=Object(g.a)({container:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"row",width:"100vw",margin:"45px 0px 25px 0px",padding:"12 20"},cardContainer:{height:"35vh",justifyContent:"",margin:"50px 20px 50px 0px",transform:"scale(0.8)",borderRadius:"20px",opacity:"0.8"}});function j(e){var t=C();return r.a.log("Card Rows props",e),s.a.createElement("div",{className:t.cardContainer},s.a.createElement("div",{className:t.container},s.a.createElement(D,{dataProps:e.avgTemperature,subTitle:"Avg Temp"}),s.a.createElement(D,{dataProps:e.cardData.cwa,subTitle:"CWA of area"}),s.a.createElement(D,{dataProps:e.location.city,subTitle:"City"}),s.a.createElement(D,{dataProps:e.location.state,subTitle:"State"})))}var O=a(35),x=a.n(O),S=a(21),T=a.n(S),V=a(45),A=(a(145),a(18)),N=(a(147),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).listData=function(e){return e.map((function(e){return s.a.createElement("div",{className:"grid",key:e.number},s.a.createElement("span",null,s.a.createElement("strong",null,"Start Time")),s.a.createElement("span",null,s.a.createElement("strong",null,"End Time")),s.a.createElement("span",null,s.a.createElement("strong",null,"Temperature")),s.a.createElement("span",null,s.a.createElement("strong",null,"Wind Speed")),s.a.createElement("span",null,s.a.createElement("strong",null,"Icon")),s.a.createElement("span",null,A(e.startTime).format("LLL")),s.a.createElement("span",null,A(e.endTime).format("LLL")),s.a.createElement("span",null,e.temperature),s.a.createElement("span",null,e.windSpeed),s.a.createElement("span",null,s.a.createElement("img",{src:e.icon})))}))},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){r.a.log("this.props tempList",this.props);var e=this.props.weatherData;return s.a.createElement("div",null,this.listData(e))}}]),t}(l.Component)),P=(l.Component,function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",startDate:new Date,endDate:new Date,temperature:"",temperatureUnit:File,windSpeed:"",windDirection:""},a.startDateChange=function(e){return a.setState({date:e})},a.nameChange=function(e){return a.setState({name:e.target.value})},a.tempChange=function(e){return a.setState({temperature:e.target.value})},a.speedChange=function(e){return a.setState({windSpeed:e.target.value})},a.directionChange=function(e){return a.setState({windDirection:e.target.value})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.log("weatherData",this.props.weatherData),s.a.createElement("div",null,s.a.createElement(E.a,{variant:"contained",color:"primary",value:"Download"},s.a.createElement(V.CSVLink,{data:this.props.weatherData},"Download ")),s.a.createElement(N,{weatherData:this.props.weatherData}))}}]),t}(l.Component)),L=a(30),B=a.n(L);a(148);B.a.defaults.global.defaultFontFamily="'PT Sans', sans-serif",B.a.defaults.global.legend.display=!1,B.a.defaults.global.elements.line.tension=0;var R=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).chartRef=s.a.createRef(),a.buildChart=function(){var e=a.chartRef.current.getContext("2d");r.a.log("values",a.props.chartValues);var t=e.canvas.height,n=e.createLinearGradient(0,0,0,t);n.addColorStop(1,"rgb(255, 300, 610, 0.3)"),new B.a(e,{type:"line",data:{labels:!0!==a.props.toggle?a.props.filteredValues:a.props.labelValues,datasets:[{label:"Weather",data:a.props.chartValues,fill:!0,borderColor:n}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:5,left:15,right:15,bottom:15}},scales:{xAxes:[{ticks:{display:!0},gridLines:{display:!0,drawBorder:!0}}],yAxes:[{ticks:{display:!0},gridLines:{display:!0,drawBorder:!0}}]}}})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.buildChart()}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"render",value:function(){return r.a.log("this.props Troops.js",this.props),s.a.createElement("div",{className:"graphContainer"},s.a.createElement("canvas",{id:"myChart",ref:this.chartRef}))}}]),t}(l.PureComponent),W=(a(149),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={day:!1},a.dayButtonClick=function(e){a.setState({day:!1})},a.nightButtonClick=function(e){a.setState({day:!0})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.log("this.props Troops.js",this.props),s.a.createElement("div",{className:"container"},s.a.createElement("h1",null,"Weather Dashboard"),s.a.createElement("div",{className:"buttonContainer"},s.a.createElement(E.a,{variant:"contained",color:"primary",value:"Day",onClick:this.dayButtonClick},"Day"),s.a.createElement(E.a,{variant:"contained",color:"primary",value:"Night",onClick:this.nightButtonClick},"Night")),s.a.createElement(R,{chartValues:this.props.chartValues,filteredValues:this.props.filteredValues,labelValues:this.props.labelValues,toggle:this.state.day}))}}]),t}(l.PureComponent)),M=(a(150),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={week:!0,month:!1,forecastPeriods:[],chartValues:[],labelValues:[],dayLabelValues:[],cardData:[],location:[],avgTemperature:"",hourly:{hourlyCardData:[]}},a.arrAvg=function(e){var t=e.length,a=e.reduce((function(e,t){return e+t}));return Math.round(a/t)},a.clickWeekly=function(e){a.setState({week:!0,month:!1})},a.clickMonthly=function(e){a.setState({week:!1,month:!0})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetchTableData()}},{key:"componentDidUpdate",value:function(e,t){r.a.log("State",this.state),r.a.log("prevState",e)}},{key:"fetchTableData",value:function(){var e,t,a,n,l,s,o,i,c,p,d;return u.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,u.a.awrap(T.a.get("https://api.weather.gov/points/30.3322,-81.6557",{headers:{}}));case 2:return e=m.sent,r.a.log("response",e),m.next=6,u.a.awrap(T.a.get(e.data.properties.forecast));case 6:return t=m.sent,r.a.log("forecast",t),m.next=10,u.a.awrap(T.a.get(e.data.properties.forecastHourly));case 10:a=m.sent,r.a.log("forecastHourly",a),n=e.data.properties,l=t.data.properties.periods.map((function(e){return A(e.startTime).format("DD")})),s=t.data.properties.periods.map((function(e){return e.isDaytime?A(e.startTime).format("DD"):null})),o=s.filter((function(e){return null!==e})),i=t.data.properties.periods.map((function(e){return e.temperature})),c=n.relativeLocation.properties,p=this.arrAvg(i),d=t.data.properties.periods.filter((function(e){return!0===e.isDaytime})),a,this.makePostRequest(this.state),this.setState({forecastPeriods:d,chartValues:i,labelValues:l,filteredValues:o,cardData:n,avgTemperature:p,location:c});case 23:case"end":return m.stop()}}),null,this)}},{key:"makePostRequest",value:function(e){var t,a;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={temperature:88,speed:0},r.a.log("post fired"),r.a.log("post data",e),n.next=5,u.a.awrap(T.a.post("http://localhost:3001/api/weather",t));case 5:a=n.sent,r.a.log("Status code: ",a);case 7:case"end":return n.stop()}}))}},{key:"render",value:function(){return r.a.log("this.state App.js",this.state),s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("hr",null),s.a.createElement("div",{className:"container"},s.a.createElement(j,{cardData:this.state.cardData,location:this.state.location,avgTemperature:this.state.avgTemperature}),s.a.createElement(W,{chartValues:this.state.chartValues,filteredValues:this.state.filteredValues,labelValues:this.state.labelValues,week:this.clickWeekly,month:this.clickMonthly}),s.a.createElement(P,{weatherData:this.state.forecastPeriods}))))}}]),t}(l.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,a){e.exports=a(151)},89:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.4da5ddcd.chunk.js.map